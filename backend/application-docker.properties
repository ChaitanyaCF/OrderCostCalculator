# Database Configuration for Docker - PostgreSQL
spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:ordercostcalculator}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.datasource.username=${POSTGRES_USER:postgres}
spring.datasource.password=${POSTGRES_PASSWORD:postgres}
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
# H2 Console disabled (using PostgreSQL)
# spring.h2.console.enabled=false

# SQL initialization - DISABLE for existing database
spring.sql.init.mode=never
spring.jpa.defer-datasource-initialization=false

# JWT Configuration
jwt.secret=mySecretKey
jwt.expirationMs=86400000

# Server Configuration
server.port=8082

# CORS Configuration
cors.allowed.origins=${ALLOWED_ORIGINS:http://localhost:3000,http://localhost:3001}

# Logging - reduce verbosity for production
logging.level.org.springframework.web=INFO
logging.level.com.procost.api=INFO
logging.level.org.springframework.boot.autoconfigure=INFO

# Hybrid AI Configuration
ai.hybrid.enabled=true
ai.openai.fallback.enabled=true
ai.confidence.threshold=0.7

# OpenAI Configuration
openai.api.key=\${OPENAI_API_KEY:your-openai-api-key-here}
openai.model=gpt-4.1-mini
openai.api.url=https://api.openai.com/v1/chat/completions
openai.temperature=0.1

# AI Processing Thresholds
ai.classification.confidence.threshold=0.8
ai.extraction.confidence.threshold=0.7
ai.parsing.confidence.threshold=0.6

# Fallback Behavior
ai.fallback.to.patterns=true
ai.retry.on.failure=true
ai.max.retries=3

# Performance Settings
ai.request.timeout=30000
ai.batch.processing=false
ai.cache.results=true

# Cost Control
ai.max.daily.requests=2000
ai.cost.alert.threshold=10.00
ai.usage.tracking.enabled=true
